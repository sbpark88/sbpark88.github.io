---
layout: post
title: Swift Closures
subtitle: Closures
categories: swift
tags: [swift docs, swift closures]
---

### <span style="color: orange">1. Closure Expressions ğŸ‘©â€ğŸ’»</span>

`Swift`ì˜ `Closures`ëŠ” ì •ì˜ëœ `context(or scope)`ì— ìƒìˆ˜(constants)ë‚˜ ë³€ìˆ˜(variables)ë¥¼ ìº¡ì²˜(capture)í•˜ê³  ì €ì¥(store)í•  ìˆ˜ ìˆë‹¤.
ì´ëŠ” ë‹¤ë¥¸ ì–¸ì–´ì˜ `lambda`ì™€ ë¹„ìŠ·í•˜ë‹¤.

__1 ) `Closures`ëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ í˜•íƒœ ì¤‘ í•˜ë‚˜ë¥¼ ê°–ëŠ”ë‹¤__
- Global Functions : ì´ë¦„ì´ ìˆê³ , ì–´ë–¤ ê°’ë„ ìº¡ì²˜í•˜ì§€ ì•ŠëŠ” `Closures`
- Nested Functions : ì´ë¦„ì´ ìˆê³ , ìì‹ ì´ ì†í•œ `function context`ì˜ ê°’ì„ ìº¡ì²˜í•  ìˆ˜ ìˆëŠ” `Closures`
- Closure Expressions : ì´ë¦„ì´ ì—†ê³ , ìì‹ ì´ ì†í•œ `context`ì˜ ê°’ì„ ìº¡ì²˜í•  ìˆ˜ ìˆëŠ” ê²½ëŸ‰í™”ëœ `Closures`

__2 ) `Swift` `Closures`ì˜ ìµœì í™”ê°€ ê°–ëŠ” íŠ¹ì§•__
- `context`ë¡œë¶€í„° `parameter`ì™€ `return value`ë¥¼ ì¶”ë¡ (inferring)í•œë‹¤
- ë‹¨ì¼ í‘œí˜„ í´ë¡œì €(single-expression closures)ì—ì„œ ì•”ì‹œì  ë°˜í™˜(implicit returns)
- ì¶•ì•½ëœ ì¸ì ì´ë¦„(shorthand arguemnt names)
- í›„ìœ„ í´ë¡œì € ë¬¸ë²•(trailing closure syntax)

<br>

`Closure Expressions`ëŠ” ì´ë¦„ì´ ì—†ìœ¼ë‚˜ ê²½ëŸ‰í™”ëœ ë¬¸ë²•ìœ¼ë¡œ ì¬ì‚¬ìš© ë˜ì§€ ì•ŠëŠ” í•¨ìˆ˜, 
ì£¼ë¡œ `Nested Functions`ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.

#### <span style="color: rgba(166, 42, 254, 1)">1. The Sorted Method</span>

`sorted(by:)` ë©”ì„œë“œëŠ”, `Comparable` í”„ë¡œí† ì½œì„ ë”°ë¥´ëŠ” íƒ€ì…ì— ëŒ€í•´
`(Type, Type) -> Bool` íƒ€ì…ì˜ `Closures`ë¥¼ `arguments`ë¡œ ë°›ì•„ ì •ë ¬ì„ ìˆ˜í–‰í•œë‹¤.  
`true`ë©´ ìˆœì„œë¥¼ ë°”ê¾¸ì§€ ì•Šê³ , `false`ë©´ ìˆœì„œë¥¼ ë°”ê¾¼ë‹¤.

```swift
let names = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
```

`(String, String) -> Bool` íƒ€ì…ì˜ `Closures`ë¥¼ `arguments`ë¡œ ë°›ì•„ ì •ë ¬ì„ ìˆ˜í–‰í•´ë³´ë„ë¡ í•˜ì.  
ì´ë¥¼ ìœ„í•´ `Global Functions` í˜•íƒœì˜ `Closures`ë¡œ `forware(_:_:)`, `backward(_:_:)`ë¥¼ ìƒì„±í•œë‹¤.

- ascending order(default)

```swift
func forward(_ s1: String, _ s2: String) -> Bool {
    s1 < s2
}

func backward(_ s1: String, _ s2: String) -> Bool {
    s1 > s2
}
```

- descending order

```swift
print("origin          : \(names)")
print("default         : \(names.sorted())")
print("ascending order : \(names.sorted(by: forward))")
print("descending order: \(names.sorted(by: backward))")
```

```console
origin          : ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
default         : ["Alex", "Barry", "Chris", "Daniella", "Ewa"]
ascending order : ["Alex", "Barry", "Chris", "Daniella", "Ewa"]
descending order: ["Ewa", "Daniella", "Chris", "Barry", "Alex"]
```


#### <span style="color: rgba(166, 42, 254, 1)">2. Closure Expression Syntax</span>

__Syntax__

```swift
{ (parameters) -> return type in
    statements
}
```

__Closure ExpressionsëŠ” ë‹¤ìŒ íŠ¹ì§•ì„ ê°–ëŠ”ë‹¤__

- `Global Functions`ì™€ ë§ˆì°¬ê°€ì§€ë¡œ `In-Out Parameters`, `Variadic Parameters`, `Tuple Type Parameters`, `Tuple Type Return`ì´ í—ˆìš©ëœë‹¤.
- ë‹¨, <span style="color: red;">**Default Values**ëŠ” í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤</span>.

<br>

ìœ„ ì •ë ¬ì€ `Global Functions` í˜•íƒœì˜ `Closures` ëŒ€ì‹  `Closure Expressions` 
í˜•íƒœì˜ `Closures`ë¥¼ ì´ìš©í•˜ë©´ ë”ìš± ê°„ê²°í•œ í‘œí˜„ì´ ê°€ëŠ¥í•˜ë‹¤.

```swift
let ascendingOrderNames = names.sorted(by: { (s1: String, s2: String) -> Bool in return s1 < s2 })
let descendingOrderNames = names.sorted(by: { (s1: String, s2: String) -> Bool in return s1 > s2 })

print("ascendingOrderNames : \(ascendingOrderNames)")
print("descendingOrderNames: \(descendingOrderNames)")
```

```console
ascendingOrderNames : ["Alex", "Barry", "Chris", "Daniella", "Ewa"]
descendingOrderNames: ["Ewa", "Daniella", "Chris", "Barry", "Alex"]
```

#### <span style="color: rgba(166, 42, 254, 1)">3. Inferring Type From Context</span>

`Inline-Closures`ëŠ” í•­ìƒ `context`ë¡œë¶€í„° `parameter types`ì™€  `return types`ë¥¼ 
ì¶”ë¡ (infer)í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ `type`ì„ ì ì„ í•„ìš”ê°€ ì—†ë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ arrow(`->`) ì—­ì‹œ í•„ìˆ˜ê°€ ì•„ë‹ˆë‹¤.  
ë‹¨, ìœ„ 2ë²ˆ ì²˜ëŸ¼ ëª…ì‹œì ìœ¼ë¡œ ì ëŠ” ê²ƒì€ ê°€ëŠ¥í•˜ë‹¤.

```swift
// ascending order
names.sorted(by: { s1, s2 in return s1 < s2 })

// descending order
names.sorted(by: { s1, s2 in return s1 > s2 })
```

#### <span style="color: rgba(166, 42, 254, 1)">4. Implicit Return from Single-Expression Closures</span>

í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ `Single-Expression Closures`ëŠ” `return` í‚¤ì›Œë“œë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.  
ì‚¬ì‹¤ `Global Functions` í˜•íƒœì˜ `Closures`ê°€ ê°€ëŠ¥í–ˆìœ¼ë‹ˆ `Closure Expressions` í˜•íƒœì˜ 
`Closures` ì—­ì‹œ ê°€ëŠ¥í•œ ê²ƒì€ ë‹¹ì—°í•˜ë‹¤.

```swift
// ascending order
names.sorted(by: { s1, s2 in s1 < s2 })

// descending order
names.sorted(by: { s1, s2 in s1 > s2 })
```

#### <span style="color: rgba(166, 42, 254, 1)">5. Shorthand Argument Names</span>

`Inline-Closures`ì— `Shorthand Argument Names`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, `arguments`ë¥¼ ìƒëµí•  ìˆ˜ ìˆìœ¼ë©°, 
ì´ëŠ” `$0`, `$1`, `$2`ë¡œ í‘œí˜„ëœë‹¤. `arguments`ì˜ ê°¯ìˆ˜ëŠ” ê°€ì¥ ë†’ì€ ë²ˆí˜¸(ì´ ê²½ìš° `$2`)ë¡œë¶€í„° ì¶”ë¡ ëœë‹¤.  
ë˜í•œ `Shorthand Argument Names`ë¥¼ ì‚¬ìš©í•˜ë©´, `arguments`ë¥¼ ìƒëµí•˜ë¯€ë¡œ `in` í‚¤ì›Œë“œ ì—­ì‹œ ìƒëµí•˜ë©°, 
`body`ë§Œìœ¼ë¡œ `Closures`ë¥¼ êµ¬ì„±í•œë‹¤.

```swift
// ascending order
names.sorted(by: { $0 < $1 })

// descending order
names.sorted(by: { $0 > $1 })
```

#### <span style="color: rgba(166, 42, 254, 1)">6. Operator Methods</span>

`String`ì€ <span style="color: red;">greater-than operator(`>`)</span>ë¥¼ ë©”ì„œë“œë¡œ ê°–ëŠ”ë‹¤. 
ë˜í•œ ì´ ë©”ì„œë“œëŠ” ë‘ ê°œì˜ `parameters`ë¥¼ ê°–ê³ , `Bool`ì„ ë°˜í™˜í•œë‹¤. ì¦‰, ìœ„ì—ì„œ `sorted(by:)`ê°€ `Closures`ë¡œ 
ë°›ëŠ” ìœ í˜•ê³¼ ì •í™•íˆ ì¼ì¹˜í•œë‹¤. ë”°ë¼ì„œ ì´ ê²½ìš° `Shorthand Argument Names` ë§ˆì €ë„ ìƒëµí•  ìˆ˜ ìˆë‹¤.

```swift
// ascending order
names.sorted(by: <)

// descending order
names.sorted(by: >)
```

---

### <span style="color: orange">2. Trailing Closures ğŸ‘©â€ğŸ’»</span>

__Syntax__

#### <span style="color: rgba(166, 42, 254, 1)">1. </span>
#### <span style="color: rgba(166, 42, 254, 1)">2. </span>

---

### <span style="color: orange">3. Capturing Values ğŸ‘©â€ğŸ’»</span>

__Syntax__

#### <span style="color: rgba(166, 42, 254, 1)">1. </span>
#### <span style="color: rgba(166, 42, 254, 1)">2. </span>

---

### <span style="color: orange">4. Closures Are Reference Types ğŸ‘©â€ğŸ’»</span>

__Syntax__

#### <span style="color: rgba(166, 42, 254, 1)">1. </span>
#### <span style="color: rgba(166, 42, 254, 1)">2. </span>

---

### <span style="color: orange">5. Autoclosures ğŸ‘©â€ğŸ’»</span>

__Syntax__

#### <span style="color: rgba(166, 42, 254, 1)">1. </span>
#### <span style="color: rgba(166, 42, 254, 1)">2. </span>

---







<br><br>

---
Reference

1. "Closures", The Swift Programming Language Swift 5.7, last modified latest(Unknown), accessed Oct. 24, 2022, [Swift Docs Chapter 5 - Closures](https://docs.swift.org/swift-book/LanguageGuide/Closures.html)
